{
  "name": "RestoPlanner Reserveringen API",
  "description": "Make.com blueprint voor RestoPlanner reserveringen beheren",
  "version": "2.0.0",
  "scenarios": [
    {
      "name": "Check Beschikbaarheid",
      "description": "Controleer of een tijdstip beschikbaar is voor reservering",
      "modules": [
        {
          "name": "HTTP Request",
          "type": "http",
          "config": {
            "url": "https://innovationstudio.be/api/reservations/check-availability",
            "method": "POST",
            "headers": {
              "Content-Type": "application/json",
              "Accept": "application/json"
            },
            "body": {
              "restaurant_id": "123",
              "requested_date": "2024-01-15",
              "requested_time": "19:00",
              "party_size": 4
            },
            "timeout": 15000
          }
        }
      ]
    },
    {
      "name": "Boek Reservering",
      "description": "Maak een nieuwe reservering aan",
      "modules": [
        {
          "name": "HTTP Request",
          "type": "http",
          "config": {
            "url": "https://innovationstudio.be/api/reservations/book",
            "method": "POST",
            "headers": {
              "Content-Type": "application/json",
              "Accept": "application/json"
            },
            "body": {
              "restaurant_id": "123",
              "reservation_date": "2024-01-15",
              "reservation_time": "19:00",
              "customer_name": "Jan Janssens",
              "customer_email": "jan@example.com",
              "customer_phone": "+31612345678",
              "party_size": 4,
              "notes": "Verjaardag"
            },
            "timeout": 15000
          }
        }
      ]
    },
    {
      "name": "Update Reservering",
      "description": "Update een bestaande reservering",
      "modules": [
        {
          "name": "HTTP Request",
          "type": "http",
          "config": {
            "url": "https://innovationstudio.be/api/reservations/update",
            "method": "PUT",
            "headers": {
              "Content-Type": "application/json",
              "Accept": "application/json"
            },
            "body": {
              "reservation_id": "uuid-123",
              "reservation_date": "2024-01-16",
              "reservation_time": "20:00",
              "customer_name": "Jan Janssens",
              "party_size": 6,
              "notes": "Verjaardag + extra gasten"
            },
            "timeout": 15000
          }
        }
      ]
    },
    {
      "name": "Verwijder Reservering",
      "description": "Annuleer een reservering",
      "modules": [
        {
          "name": "HTTP Request",
          "type": "http",
          "config": {
            "url": "https://innovationstudio.be/api/reservations/delete",
            "method": "DELETE",
            "headers": {
              "Content-Type": "application/json",
              "Accept": "application/json"
            },
            "body": {
              "reservation_id": "uuid-123"
            },
            "timeout": 15000
          }
        }
      ]
    }
  ],
  "documentation": {
    "endpoints": [
      {
        "name": "Check Beschikbaarheid",
        "url": "https://innovationstudio.be/api/reservations/check-availability",
        "method": "POST",
        "description": "Controleer of een tijdstip beschikbaar is",
        "required_fields": [
          "restaurant_id",
          "requested_date",
          "requested_time", 
          "party_size"
        ],
        "example_request": {
          "restaurant_id": "123",
          "requested_date": "2024-01-15",
          "requested_time": "19:00",
          "party_size": 4
        },
        "example_response": {
          "success": true,
          "available": false,
          "requested_date": "2024-01-15",
          "requested_time": "19:00",
          "party_size": 4,
          "conflicting_reservations": [
            {
              "id": "uuid-1",
              "customer_name": "Jan Janssens",
              "reservation_time": "19:00",
              "party_size": 6
            }
          ],
          "alternative_times": ["18:30", "19:30", "20:00"],
          "message": "Tijdstip 19:00 is niet beschikbaar, hier zijn alternatieven"
        }
      },
      {
        "name": "Boek Reservering",
        "url": "https://innovationstudio.be/api/reservations/book",
        "method": "POST",
        "description": "Maak een nieuwe reservering aan",
        "required_fields": [
          "restaurant_id",
          "reservation_date",
          "reservation_time",
          "customer_name",
          "party_size"
        ],
        "example_request": {
          "restaurant_id": "123",
          "reservation_date": "2024-01-15",
          "reservation_time": "19:00",
          "customer_name": "Jan Janssens",
          "customer_email": "jan@example.com",
          "customer_phone": "+31612345678",
          "party_size": 4,
          "notes": "Verjaardag"
        },
        "example_response": {
          "success": true,
          "booked": true,
          "reservation": {
            "id": "uuid-123",
            "restaurant_id": "123",
            "reservation_date": "2024-01-15",
            "reservation_time": "19:00",
            "customer_name": "Jan Janssens",
            "customer_email": "jan@example.com",
            "customer_phone": "+31612345678",
            "party_size": 4,
            "notes": "Verjaardag",
            "status": "confirmed",
            "created_at": "2024-01-01T10:00:00Z"
          },
          "message": "Reservering succesvol aangemaakt voor Jan Janssens"
        }
      },
      {
        "name": "Update Reservering",
        "url": "https://innovationstudio.be/api/reservations/update",
        "method": "PUT",
        "description": "Update een bestaande reservering",
        "required_fields": [
          "reservation_id"
        ],
        "example_request": {
          "reservation_id": "uuid-123",
          "reservation_date": "2024-01-16",
          "reservation_time": "20:00",
          "customer_name": "Jan Janssens",
          "party_size": 6,
          "notes": "Verjaardag + extra gasten"
        },
        "example_response": {
          "success": true,
          "updated": true,
          "reservation": {
            "id": "uuid-123",
            "reservation_date": "2024-01-16",
            "reservation_time": "20:00",
            "customer_name": "Jan Janssens",
            "party_size": 6,
            "status": "confirmed"
          },
          "message": "Reservering succesvol bijgewerkt"
        }
      },
      {
        "name": "Verwijder Reservering",
        "url": "https://innovationstudio.be/api/reservations/delete",
        "method": "DELETE",
        "description": "Annuleer een reservering",
        "required_fields": [
          "reservation_id"
        ],
        "example_request": {
          "reservation_id": "uuid-123"
        },
        "example_response": {
          "success": true,
          "deleted": true,
          "reservation_id": "uuid-123",
          "message": "Reservering succesvol geannuleerd"
        }
      }
    ]
  },
  "setup_instructions": {
    "title": "RestoPlanner Reserveringen Setup in Make.com",
    "steps": [
      {
        "step": 1,
        "title": "Maak nieuwe scenario's",
        "description": "Maak 4 nieuwe scenario's in Make.com voor elke endpoint"
      },
      {
        "step": 2,
        "title": "Voeg HTTP modules toe",
        "description": "Voor elk scenario, voeg een HTTP module toe met de configuratie uit de documentatie"
      },
      {
        "step": 3,
        "title": "Configureer parameters",
        "description": "Pas restaurant_id en andere parameters aan naar jouw waarden"
      },
      {
        "step": 4,
        "title": "Test de endpoints",
        "description": "Test elke endpoint om te controleren of ze werken"
      }
    ]
  },
  "usage_examples": [
    {
      "scenario": "Website reservering workflow",
      "description": "Automatische reservering via website formulier",
      "workflow": [
        "1. Website formulier → Make.com webhook",
        "2. Check beschikbaarheid endpoint",
        "3. Als beschikbaar → Boek reservering endpoint",
        "4. Als niet beschikbaar → Stuur alternatieven",
        "5. Email bevestiging naar klant"
      ]
    },
    {
      "scenario": "Telefoon reservering",
      "description": "Handmatige reservering via telefoon",
      "workflow": [
        "1. Manual entry → Check beschikbaarheid endpoint",
        "2. Boek reservering endpoint",
        "3. SMS bevestiging naar klant"
      ]
    },
    {
      "scenario": "Reservering wijzigen",
      "description": "Klant wil reservering aanpassen",
      "workflow": [
        "1. Email/SMS van klant → Update reservering endpoint",
        "2. Update reservering details",
        "3. Email bevestiging van wijziging"
      ]
    },
    {
      "scenario": "Reservering annuleren",
      "description": "Klant wil reservering annuleren",
      "workflow": [
        "1. Email/SMS van klant → Verwijder reservering endpoint",
        "2. Annuleer reservering",
        "3. Email bevestiging van annulering"
      ]
    }
  ],
  "error_handling": {
    "common_errors": [
      {
        "error": "400 Bad Request",
        "cause": "Verplichte parameters ontbreken",
        "solution": "Controleer of alle required velden zijn ingevuld"
      },
      {
        "error": "404 Not Found",
        "cause": "Reservering niet gevonden",
        "solution": "Controleer of reservation_id correct is"
      },
      {
        "error": "409 Conflict",
        "cause": "Tijdstip is niet beschikbaar",
        "solution": "Gebruik alternative_times uit de response"
      },
      {
        "error": "500 Internal Server Error",
        "cause": "Database fout",
        "solution": "Controleer server logs voor details"
      }
    ]
  },
  "metadata": {
    "author": "RestoPlanner Team",
    "created": "2025-08-01",
    "api_version": "2.0",
    "base_url": "https://innovationstudio.be",
    "documentation": "https://innovationstudio.be/api/health"
  }
}
